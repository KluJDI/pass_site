<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Паспорт безопасности</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
        }
        h1, h2 {
            color: #333;
            margin-bottom: 10px;
        }
        form {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        label {
            display: block;
            margin: 10px 0 5px;
            font-weight: bold;
        }
        input[type="text"], textarea {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        textarea {
            height: 100px;
            resize: vertical;
        }
        .table-section {
            margin: 20px 0;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 4px;
            background-color: #f9f9f9;
        }
        .table-row {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            padding: 10px;
            border: 1px solid #ddd;
            margin-bottom: 5px;
            background-color: #fff;
        }
        .table-row input {
            padding: 6px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .table-header {
            font-weight: bold;
            background-color: #f0f0f0;
            padding: 10px;
            border-bottom: 2px solid #000;
        }
        button {
            padding: 12px 24px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px 0;
        }
        button:hover {
            background-color: #0056b3;
        }
        .submit-button {
            background-color: #28a745;
        }
        .submit-button:hover {
            background-color: #218838;
        }
    </style>
</head>
<body>
    <h1>Заполнение паспорта безопасности</h1>
    <form action="/generate" method="POST">
        <h2>Общие данные</h2>
        <label>Гриф или пометка:</label>
        <input type="text" name="security_classification" placeholder="Введите гриф или пометку">
        <label>Номер экземпляра:</label>
        <input type="text" name="copy_number" placeholder="Введите номер экземпляра">
        <label>Руководитель исполнительного органа:</label>
        <input type="text" name="executive_authority_head" placeholder="Введите должность">
        <label>Ф.И.О. руководителя:</label>
        <input type="text" name="executive_authority_name" placeholder="Введите Ф.И.О.">
        <label>Дата утверждения:</label>
        <input type="text" name="approval_date" placeholder="ДД.ММ.ГГГГ">
        <label>Руководитель органа безопасности:</label>
        <input type="text" name="security_agency_head" placeholder="Введите должность">
        <label>Ф.И.О. органа безопасности:</label>
        <input type="text" name="security_agency_name" placeholder="Введите Ф.И.О.">
        <label>Дата согласования (безопасность):</label>
        <input type="text" name="security_agency_date" placeholder="ДД.ММ.ГГГГ">
        <label>Руководитель органа МВД:</label>
        <input type="text" name="mvd_head" placeholder="Введите должность">
        <label>Ф.И.О. органа МВД:</label>
        <input type="text" name="mvd_name" placeholder="Введите Ф.И.А.">
        <label>Дата согласования (МВД):</label>
        <input type="text" name="mvd_date" placeholder="ДД.ММ.ГГГГ">
        <label>Руководитель органа МЧС:</label>
        <input type="text" name="mchs_head" placeholder="Введите должность">
        <label>Ф.И.О. органа МЧС:</label>
        <input type="text" name="mchs_name" placeholder="Введите Ф.И.А.">
        <label>Дата согласования (МЧС):</label>
        <input type="text" name="mchs_date" placeholder="ДД.ММ.ГГГГ">
        <label>Руководитель Росгвардии:</label>
        <input type="text" name="rosgvardia_head" placeholder="Введите должность">
        <label>Ф.И.О. Росгвардии:</label>
        <input type="text" name="rosgvardia_name" placeholder="Введите Ф.И.А.">
        <label>Дата согласования (Росгвардия):</label>
        <input type="text" name="rosgvardia_date" placeholder="ДД.ММ.ГГГГ">
        <label>Населенный пункт:</label>
        <input type="text" name="locality" placeholder="Введите название">
        <label>Наименование объекта:</label>
        <input type="text" name="object_name" placeholder="Введите наименование">
        <label>Адрес объекта:</label>
        <input type="text" name="object_address" placeholder="Введите адрес">
        <label>Принадлежность и назначение:</label>
        <textarea name="object_affiliation" placeholder="Введите описание"></textarea>
        <label>Границы объекта:</label>
        <textarea name="object_boundaries" placeholder="Введите границы"></textarea>
        <label>Площадь и периметр:</label>
        <input type="text" name="object_area_perimeter" placeholder="Введите площадь и периметр">
        <label>Результаты мониторинга:</label>
        <textarea name="monitoring_results" placeholder="Введите данные"></textarea>
        <label>Категория объекта:</label>
        <input type="text" name="object_category" placeholder="Введите категорию">
        <label>Территориальный орган МВД:</label>
        <textarea name="mvd_territory" placeholder="Введите данные"></textarea>
        <label>Общественные объединения:</label>
        <textarea name="public_organizations" placeholder="Введите данные"></textarea>
        <label>Характеристика местности:</label>
        <textarea name="terrain_characteristics" placeholder="Введите описание"></textarea>
        <label>Численность работников:</label>
        <input type="text" name="staff_count" placeholder="Введите число">
        <label>Посещаемость:</label>
        <textarea name="attendance" placeholder="Введите данные"></textarea>
        <label>Сведения об арендаторах:</label>
        <textarea name="tenants_info" placeholder="Введите данные"></textarea>
        <label>Противоправные действия:</label>
        <textarea name="illegal_actions_a" placeholder="Введите описание"></textarea>
        <label>Диверсионные проявления:</label>
        <textarea name="diversion_manifestations_b" placeholder="Введите данные"></textarea>
        <label>Силы и средства охраны:</label>
        <textarea name="security_forces_a" placeholder="Введите данные"></textarea>
        <label>Маршруты патрулей:</label>
        <textarea name="patrol_routes_b" placeholder="Введите данные"></textarea>
        <label>Стационарные посты:</label>
        <textarea name="stationary_posts_b" placeholder="Введите данные"></textarea>
        <label>Народные дружины:</label>
        <textarea name="public_guards_d" placeholder="Введите данные"></textarea>
        <label>Средства охраны:</label>
        <textarea name="security_equipment_e" placeholder="Введите данные"></textarea>
        <label>Оповещение между постами:</label>
        <textarea name="notification_system_zh" placeholder="Телефоны, радиостанции"></textarea>
        <label>Оповещение с дежурной частью:</label>
        <textarea name="notification_system_zh_2" placeholder="Телефоны, радиостанции"></textarea>
        <label>Телефоны охранных служб:</label>
        <textarea name="notification_system_zh_3" placeholder="Введите телефоны"></textarea>
        <label>Телефоны органов безопасности:</label>
        <textarea name="notification_system_zh_4" placeholder="Введите телефоны"></textarea>
        <label>Телефоны органов власти:</label>
        <textarea name="notification_system_zh_5" placeholder="Введите телефоны"></textarea>
        <label>Аварийно-спасательные службы:</label>
        <textarea name="notification_system_zh_6" placeholder="Наименование и расстояние"></textarea>
        <label>Инженерно-технические средства:</label>
        <textarea name="technical_security_a" placeholder="Введите данные"></textarea>
        <label>Пожарная безопасность:</label>
        <textarea name="fire_safety_b" placeholder="Введите данные"></textarea>
        <label>Система эвакуации:</label>
        <textarea name="evacuation_system_v" placeholder="Введите данные"></textarea>
        <label>Надежность охраны:</label>
        <textarea name="security_reliability_a" placeholder="Введите выводы"></textarea>
        <label>Первоочередные мероприятия:</label>
        <textarea name="urgent_measures_b" placeholder="Введите мероприятия"></textarea>
        <label>Финансирование:</label>
        <textarea name="funding_v" placeholder="Введите данные"></textarea>
        <label>Дополнительная информация:</label>
        <textarea name="additional_info" placeholder="Введите данные"></textarea>
        <label>Места отдыха и искусства:</label>
        <textarea name="recreation_areas" placeholder="Лавочки, скамейки, детские площадки и др."></textarea>
        <label>Схемы коммуникаций:</label>
        <textarea name="communication_schemes" placeholder="Водоснабжение, электроснабжение и др."></textarea>
        <label>Инструкция по эвакуации:</label>
        <textarea name="evacuation_instructions" placeholder="Введите инструкцию"></textarea>
        <label>Лист учета корректировок:</label>
        <textarea name="correction_log" placeholder="Введите данные"></textarea>
        <label>Правообладатель:</label>
        <input type="text" name="rights_holder" placeholder="Введите данные">
        <label>Ф.И.О. правообладателя:</label>
        <input type="text" name="rights_holder_name" placeholder="Введите Ф.И.О.">
        <label>Дата составления:</label>
        <input type="text" name="creation_date" placeholder="ДД.ММ.ГГГГ">
        <label>Дата актуализации:</label>
        <input type="text" name="update_date" placeholder="ДД.ММ.ГГГГ">

        <div class="table-section">
            <h2>2. Объекты на территории (JSON)</h2>
            <label>Введите данные в формате JSON (пример: [{"num": 1, "name": "Объект 1", "details": "Частная", "location": "Центр", "security": "Камеры"}, ...]):</label>
            <textarea name="objects_inside" placeholder='[{"num": 1, "name": "Объект 1", "details": "Частная, Иван", "location": "Центр", "security": "Камеры"}]'></textarea>
        </div>

        <div class="table-section">
            <h2>3. Соседние объекты</h2>
            <div class="table-header">
                <div class="table-row">
                    <span>Наименование</span>
                    <span>Характеристика</span>
                    <span>Сторона</span>
                    <span>Расстояние</span>
                </div>
            </div>
            <div id="objects_nearby">
                <div class="table-row">
                    <input type="text" name="object_nearby_name[]" placeholder="Наименование объекта">
                    <input type="text" name="object_nearby_details[]" placeholder="Характеристика объекта">
                    <input type="text" name="object_nearby_side[]" placeholder="Сторона расположения">
                    <input type="text" name="object_nearby_distance[]" placeholder="Расстояние (м)">
                </div>
            </div>
            <button type="button" onclick="addRow('objects_nearby')">Добавить объект</button>
        </div>

        <div class="table-section">
            <h2>4. Транспортные коммуникации</h2>
            <div class="table-header">
                <div class="table-row">
                    <span>Вид транспорта</span>
                    <span>Наименование</span>
                    <span>Расстояние</span>
                </div>
            </div>
            <div id="transport">
                <div class="table-row">
                    <input type="text" name="transport_type[]" placeholder="Вид транспорта">
                    <input type="text" name="transport_name[]" placeholder="Наименование объекта">
                    <input type="text" name="transport_distance[]" placeholder="Расстояние (м)">
                </div>
            </div>
            <button type="button" onclick="addRow('transport')">Добавить коммуникацию</button>
        </div>

        <div class="table-section">
            <h2>5. Организации обслуживания</h2>
            <div class="table-header">
                <div class="table-row">
                    <span>Наименование</span>
                    <span>Деятельность</span>
                    <span>График</span>
                </div>
            </div>
            <div id="service_orgs">
                <div class="table-row">
                    <input type="text" name="service_org_name[]" placeholder="Наименование организации">
                    <input type="text" name="service_org_activity[]" placeholder="Вид деятельности">
                    <input type="text" name="service_org_schedule[]" placeholder="График работ">
                </div>
            </div>
            <button type="button" onclick="addRow('service_orgs')">Добавить организацию</button>
        </div>

        <div class="table-section">
            <h2>7. Опасные участки</h2>
            <div class="table-header">
                <div class="table-row">
                    <span>Наименование</span>
                    <span>Работники</span>
                    <span>Риск</span>
                </div>
            </div>
            <div id="dangerous_sections">
                <div class="table-row">
                    <input type="text" name="dangerous_section_name[]" placeholder="Наименование участка">
                    <input type="text" name="dangerous_section_workers[]" placeholder="Количество работников">
                    <input type="text" name="dangerous_section_risk[]" placeholder="Характер ЧС">
                </div>
            </div>
            <button type="button" onclick="addRow('dangerous_sections')">Добавить участок</button>
        </div>

        <div class="table-section">
            <h2>9. Последствия террористической угрозы</h2>
            <div class="table-header">
                <div class="table-row">
                    <span>Угроза</span>
                    <span>Пострадавшие</span>
                    <span>Масштаб</span>
                </div>
            </div>
            <div id="consequences">
                <div class="table-row">
                    <input type="text" name="threat_name[]" placeholder="Название угрозы">
                    <input type="text" name="threat_victims[]" placeholder="Количество пострадавших">
                    <input type="text" name="threat_scale[]" placeholder="Масштаб последствий">
                </div>
            </div>
            <button type="button" onclick="addRow('consequences')">Добавить угрозу</button>
        </div>

        <div class="table-section">
            <h2>10г. Состав нарядов</h2>
            <div class="table-header">
                <div class="table-row">
                    <span>Вид наряда</span>
                    <span>Единицы</span>
                    <span>Люди</span>
                </div>
            </div>
            <div id="patrol_composition">
                <div class="table-row">
                    <input type="text" name="patrol_type[]" placeholder="Вид наряда">
                    <input type="text" name="patrol_units[]" placeholder="Количество единиц">
                    <input type="text" name="patrol_people[]" placeholder="Количество человек">
                </div>
            </div>
            <button type="button" onclick="addRow('patrol_composition')">Добавить наряд</button>
        </div>

        <div class="table-section">
            <h2>12. Критические элементы</h2>
            <div class="table-header">
                <div class="table-row">
                    <span>Название</span>
                    <span>Требования</span>
                    <span>Физическая защита</span>
                    <span>Предотвращение</span>
                    <span>Достаточность</span>
                    <span>Компенсация</span>
                </div>
            </div>
            <div id="critical_elements">
                <div class="table-row">
                    <input type="text" name="critical_element_name[]" placeholder="Наименование элемента">
                    <input type="text" name="critical_element_requirements[]" placeholder="Требования">
                    <input type="text" name="critical_element_physical_protection[]" placeholder="Физическая защита">
                    <input type="text" name="critical_element_terrorism_prevention[]" placeholder="Предотвращение">
                    <input type="text" name="critical_element_sufficiency[]" placeholder="Достаточность мер">
                    <input type="text" name="critical_element_compensation[]" placeholder="Компенсационные меры">
                </div>
            </div>
            <button type="button" onclick="addRow('critical_elements')">Добавить элемент</button>
        </div>

        <button type="submit" class="submit-button">Сгенерировать паспорт</button>
    </form>

    <script>
        function addRow(tableId) {
            const table = document.getElementById(tableId);
            const row = table.children[0].cloneNode(true);
            row.querySelectorAll('input').forEach(input => input.value = '');
            table.appendChild(row);
        }
    </script>
</body>
</html>
